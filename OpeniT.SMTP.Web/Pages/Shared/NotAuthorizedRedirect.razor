@namespace OpeniT.SMTP.Web.Pages.Shared

@code {
	[Inject] private NavigationManager navigationManager { get; set; }

	[Parameter] public AuthenticationState AuthenticationState { get; set; }

	protected override void OnInitialized()
	{
		if (AuthenticationState.User.IsInRole("User-External"))
		{
			this.navigationManager.NavigateTo($"/not-authorized?visited={this.navigationManager.Uri}", true);
		}
		else
		{
			this.navigationManager.NavigateTo($"/admin/not-authorized?visited={this.navigationManager.Uri}", true);
		}
	}
}
