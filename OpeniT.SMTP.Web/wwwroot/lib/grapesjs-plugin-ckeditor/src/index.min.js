/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/grapesjs-plugin-ckeditor@0.0.10/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import grapesjs from"grapesjs";const stopPropagation=e=>e.stopPropagation();export default grapesjs.plugins.add("gjs-plugin-ckeditor",((e,t={})=>{let o=t,a={options:{},position:"left"};for(let e in a)e in o||(o[e]=a[e]);if(!CKEDITOR)throw new Error("CKEDITOR instance not found");e.setCustomRte({enable(t,a){if(a&&"destroyed"!=a.status)return this.focus(t,a),a;t.contentEditable=!0;let n=e.RichTextEditor.getToolbarEl();[].forEach.call(n.children,(e=>{e.style.display="none"}));var s=o.options,r="sharedspace";return s.extraPlugins?"string"==typeof s.extraPlugins?s.extraPlugins+=","+r:s.extraPlugins.push(r):s.extraPlugins=r,o.options.sharedSpaces||(o.options.sharedSpaces={top:n}),(a=CKEDITOR.inline(t,o.options)).getContent=a.getData,a.on("contentDom",(()=>{var e=a.editable();e.attachListener(e,"click",(()=>{t.click()}))})),a.on("instanceReady",(t=>{var o=n.querySelector("#cke_"+a.name);o&&(o.style.display="block"),e.trigger("canvasScroll")})),a.on("dialogShow",(e=>{const t=grapesjs.$(".cke_dialog_background_cover, .cke_dialog");["off","on"].forEach((e=>t[e]("mousedown",stopPropagation)))})),this.focus(t,a),a},disable(e,t){e.contentEditable=!1,t&&t.focusManager&&t.focusManager.blur(!0)},focus(e,t){t&&t.focusManager.hasFocus||(e.contentEditable=!0,t&&t.focus())}}),e.on("rteToolbarPosUpdate",(e=>{switch(o.position){case"center":let t=e.elementWidth/2-e.targetWidth/2;e.left=e.elementLeft+t;break;case"right":let o=e.targetWidth;e.left=e.elementLeft+e.elementWidth-o}e.top<=e.canvasTop&&(e.top=e.elementTop+e.elementHeight),e.left<e.canvasLeft&&(e.left=e.canvasLeft)}))}));
//# sourceMappingURL=/sm/fb8887a01db8f08ae9923525cbd842f1c5abebcfdeac080c7b4a45202ab14b58.map