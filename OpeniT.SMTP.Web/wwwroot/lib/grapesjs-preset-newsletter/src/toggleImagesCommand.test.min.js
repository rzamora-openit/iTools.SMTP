/**
 * Minified by jsDelivr using Terser v5.3.0.
 * Original file: /npm/grapesjs-preset-newsletter@0.2.20/src/toggleImagesCommand.test.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import toggleImagesCommand from"./toggleImagesCommand";describe("toggleImagesCommand test",()=>{let e,t,c,o,a,s,n;beforeEach(()=>{s={each:jest.fn()},c={get:jest.fn(e=>{switch(e){case"type":return"image";case"src":return"mockedSrc";case"src_bkp":return"mockedSrcBkp";case"components":return s;default:return}}),set:jest.fn()},o={get:jest.fn(e=>{switch(e){case"type":return"image";case"src":return"##";case"src_bkp":return"mockedSrcBkp";case"components":return s;default:return}}),set:jest.fn()},a={get:jest.fn(e=>{switch(e){case"type":return"mockedType";case"components":return s;default:return}}),set:jest.fn()},e={getComponents:jest.fn(()=>s)},t=toggleImagesCommand()}),afterEach(()=>{jest.clearAllMocks()}),describe("on Run()",()=>{beforeEach(()=>{t.run(e),[[n]]=s.each.mock.calls}),it("should call getComponents()",()=>{expect(e.getComponents).toHaveBeenCalledTimes(1)}),it("should iterate over components",()=>{expect(s.each).toHaveBeenCalledTimes(1),expect(n).toBeInstanceOf(Function)}),describe("Components.each callback - image component",()=>{beforeEach(()=>{n(c)}),it("should set src as src_bkp",()=>{expect(c.set).toHaveBeenNthCalledWith(1,"src_bkp","mockedSrc")}),it('image src is set to "##"',()=>{expect(c.set).toHaveBeenNthCalledWith(2,"src","##")}),it("should call components.each",()=>{expect(s.each).toHaveBeenCalledTimes(2)})}),describe("Components.each callback - image component with src = ##",()=>{beforeEach(()=>{n(o)}),it("properties should not change",()=>{expect(o.set).not.toHaveBeenCalled()}),it("should call components.each",()=>{expect(s.each).toHaveBeenCalledTimes(2)})}),describe("Components.each callback - generic component",()=>{beforeEach(()=>{n(a)}),it("properties should not change",()=>{expect(a.set).not.toHaveBeenCalled()}),it("should call components.each",()=>{expect(s.each).toHaveBeenCalledTimes(2)})})}),describe("on Stop()",()=>{beforeEach(()=>{t.stop(e),[[n]]=s.each.mock.calls}),it("should call getComponents()",()=>{expect(e.getComponents).toHaveBeenCalledTimes(1)}),describe("Components.each callback - image component",()=>{beforeEach(()=>{n(c)}),it("properties should not change",()=>{expect(c.set).not.toHaveBeenCalled()}),it("should call components.each",()=>{expect(s.each).toHaveBeenCalledTimes(2)})}),describe("Components.each callback - image component with src = ##",()=>{beforeEach(()=>{n(o)}),it("should set src as src_bkp",()=>{expect(o.set).toHaveBeenNthCalledWith(1,"src","mockedSrcBkp")}),it("should call components.each",()=>{expect(s.each).toHaveBeenCalledTimes(2)})})})});
//# sourceMappingURL=/sm/42d957339bca7c36d6f67450663417470f12fe3d80d4618cd77fcf58af1f04e5.map